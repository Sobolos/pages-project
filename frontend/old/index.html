<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>–°—Ç—Ä–∞–Ω–∏—á–∫–∏</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/old/css/style.css">
</head>
<body>
<!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
        <a class="navbar-brand" href="/">–°—Ç—Ä–∞–Ω–∏—á–∫–∏</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item">
                    <button class="btn btn-outline-danger" id="logoutBtn">–í—ã–π—Ç–∏</button>
                </li>
            </ul>
        </div>
    </div>
</nav>

<!-- –û—Å–Ω–æ–≤–∞ -->
<div class="container mt-4">
    <!-- Agile –î–æ—Å–∫–∞ -->
    <h1 class="mb-4">–ú–æ—è Agile –î–æ—Å–∫–∞</h1>
    <div id="loading_kanban" class="text-center">
        <div class="spinner-border" role="status">
            <span class="visually-hidden">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
        </div>
    </div>
    <div class="mb-3">
        <button class="btn btn-primary me-2" data-bs-toggle="modal" data-bs-target="#bookModal">–î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É</button>
        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#statusModal">–î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å</button>
    </div>
    <div class="kanban-board" id="kanbanBoard" style="display: none;"></div>

    <!-- –°–ø–∏—Å–æ–∫ –ø–æ–ª–æ–∫ -->
    <div>
        <h1 class="mb-4">–ú–æ–∏ –ø–æ–ª–∫–∏</h1>
        <div class="mb-3">
            <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#shelfModal">–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–∫—É</button>
        </div>
        <!-- –í–∫–ª–∞–¥–∫–∏ –¥–ª—è –ø–æ–ª–æ–∫ -->
        <ul class="nav nav-tabs" id="shelfTabs" role="tablist">
            <!-- –í–∫–ª–∞–¥–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ JS -->
        </ul>
        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –≤–∫–ª–∞–¥–æ–∫ -->
        <div class="tab-content" id="shelfTabContent">
            <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ JS -->
        </div>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è Shelf -->
<div class="modal fade" id="shelfModal" tabindex="-1" aria-labelledby="shelfModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="shelfModalLabel">–ù–æ–≤–∞—è –ø–æ–ª–∫–∞</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <label for="shelfName" class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                    <input type="text" class="form-control" id="shelfName" required>
                </div>
                <div class="mb-3">
                    <label for="shelfIconFile" class="form-label">–ò–∫–æ–Ω–∫–∞ (64x64)</label>
                    <input type="file" class="form-control" id="shelfIconFile" accept="image/*">
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" id="saveShelfBtn">–°–æ–∑–¥–∞—Ç—å</button>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è Book -->
<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–Ω–∏–≥–∏ -->
<div class="modal fade" id="bookModal" tabindex="-1" aria-labelledby="bookModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="bookModalLabel">–ù–æ–≤–∞—è –∫–Ω–∏–≥–∞</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="–ó–∞–∫—Ä—ã—Ç—å"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <label for="bookTitle" class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                    <input type="text" class="form-control" id="bookTitle">
                </div>
                <div class="mb-3">
                    <label for="bookAuthor" class="form-label">–ê–≤—Ç–æ—Ä—ã (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)</label>
                    <input type="text" class="form-control" id="bookAuthor" data-autocomplete="author">
                    <div class="autocomplete-suggestions"></div>
                    <div class="autocomplete-buttons mt-2">
                        <button type="button" class="btn btn-primary btn-sm me-2">üíæ</button>
                        <button type="button" class="btn btn-secondary btn-sm">‚úñ</button>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="bookCoverFile" class="form-label">–û–±–ª–æ–∂–∫–∞</label>
                    <input type="file" class="form-control" id="bookCoverFile" accept="image/*">
                </div>
                <div class="mb-3">
                    <label for="bookStatus" class="form-label">–°—Ç–∞—Ç—É—Å</label>
                    <select class="form-control" id="bookStatus"></select>
                </div>
                <div class="mb-3">
                    <label for="bookShelf" class="form-label">–ü–æ–ª–∫–∞</label>
                    <select class="form-control" id="bookShelf"></select>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" id="saveBookBtn">–°–æ–∑–¥–∞—Ç—å</button>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è Status -->
<div class="modal fade" id="statusModal" tabindex="-1" aria-labelledby="statusModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="statusModalLabel">–ù–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <label for="statusName" class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                    <input type="text" class="form-control" id="statusName" required>
                </div>
                <div class="mb-3">
                    <label for="statusColor" class="form-label">–¶–≤–µ—Ç</label>
                    <input type="color" class="form-control" id="statusColor" value="#000000">
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" id="saveStatusBtn">–°–æ–∑–¥–∞—Ç—å</button>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–Ω–∏–≥–∏ -->
<div class="modal fade" id="bookViewModal" tabindex="-1" aria-labelledby="bookViewModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="bookViewModalLabel">–ö–∞—Ä—Ç–æ—á–∫–∞ –∫–Ω–∏–≥–∏</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <!-- –õ–µ–≤–∞—è —á–∞—Å—Ç—å: –æ–±–ª–æ–∂–∫–∞ –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∫–∞ -->
                    <div class="col-md-4" id="bookCoverContainer">
                        <img src="" id="bookCover" class="img-fluid" alt="–û–±–ª–æ–∂–∫–∞ –∫–Ω–∏–≥–∏" style="display: none;">
                        <div id="coverUploadContainer" style="display: none;">
                            <label for="bookViewCoverFile" class="form-label">–ó–∞–≥—Ä—É–∑–∏—Ç—å –æ–±–ª–æ–∂–∫—É</label>
                            <input type="file" class="form-control" id="bookViewCoverFile" accept="image/*">
                        </div>
                    </div>
                    <!-- –ü—Ä–∞–≤–∞—è —á–∞—Å—Ç—å: –¥–∞–Ω–Ω—ã–µ –∫–Ω–∏–≥–∏ -->
                    <div class="col-md-8">
                        <dl class="row">
                            <dt class="col-sm-3">–ù–∞–∑–≤–∞–Ω–∏–µ</dt>
                            <dd class="col-sm-9">
                                <span id="bookViewTitle" contenteditable="true" data-field="title" data-original-value=""></span>
                            </dd>
                            <dt class="col-sm-3">–ê–≤—Ç–æ—Ä</dt>
                            <dd class="col-sm-9 position-relative">
                                <span id="bookViewAuthor" contenteditable="true" data-field="author" data-autocomplete="author" data-original-value=""></span>
                                <div class="autocomplete-buttons">
                                    <button class="btn btn-sm btn-primary" title="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å">üíæ</button>
                                    <button class="btn btn-sm btn-secondary" title="–û—Ç–º–µ–Ω–∞">‚úñ</button>
                                </div>
                                <div class="autocomplete-suggestions"></div>
                            </dd>
                            <dt class="col-sm-3">–ü–æ–ª–∫–∞</dt>
                            <dd class="col-sm-9 position-relative">
                                <span id="bookViewShelf" contenteditable="true" data-field="shelf" data-autocomplete="shelf" data-original-value=""></span>
                                <div class="autocomplete-buttons">
                                    <button class="btn btn-sm btn-primary" title="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å">üíæ</button>
                                    <button class="btn btn-sm btn-secondary" title="–û—Ç–º–µ–Ω–∞">‚úñ</button>
                                </div>
                                <div class="autocomplete-suggestions"></div>
                            </dd>
                            <dt class="col-sm-3">–°—Ç–∞—Ç—É—Å</dt>
                            <dd class="col-sm-9 position-relative">
                                <span id="bookViewStatus" contenteditable="true" data-field="status" data-autocomplete="status" data-original-value=""></span>
                                <div class="autocomplete-buttons">
                                    <button class="btn btn-sm btn-primary" title="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å">üíæ</button>
                                    <button class="btn btn-sm btn-secondary" title="–û—Ç–º–µ–Ω–∞">‚úñ</button>
                                </div>
                                <div class="autocomplete-suggestions"></div>
                            </dd>
                        </dl>

                        <!-- –ó–∞–º–µ—Ç–∫–∏ -->
                        <h5>–ó–∞–º–µ—Ç–∫–∏</h5>
                        <div id="notesList"></div>
                        <div class="mb-3">
                            <div class="container my-3">
                                <div class="border rounded p-3">
                                    <!-- –¢–µ–∫—Å—Ç–æ–≤–∞—è –æ–±–ª–∞—Å—Ç—å –¥–ª—è —Ü–∏—Ç–∞—Ç—ã -->
                                    <div class="mb-3">
                                        <textarea class="form-control" id="newNote" rows="3" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –∑–∞–º–µ—Ç–∫–∏"></textarea>
                                    </div>

                                    <!-- –ù–∏–∂–Ω–∏–π –±–ª–æ–∫ —Å –∏–Ω–ø—É—Ç–∞–º–∏ –∏ –∫–Ω–æ–ø–∫–æ–π –¥–æ–±–∞–≤–∏—Ç—å -->
                                    <div class="d-flex align-items-center gap-2 flex-wrap">
                                        <button class="btn btn-outline-primary" id="addNoteBtn">
                                            ‚ûï –î–æ–±–∞–≤–∏—Ç—å
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- –¶–∏—Ç–∞—Ç—ã -->
                        <h5>–¶–∏—Ç–∞—Ç—ã</h5>
                        <div id="quotesList"></div>
                        <div class="mb-3">
                            <div class="container my-3">
                                <div class="border rounded p-3">
                                    <!-- –¢–µ–∫—Å—Ç–æ–≤–∞—è –æ–±–ª–∞—Å—Ç—å –¥–ª—è —Ü–∏—Ç–∞—Ç—ã -->
                                    <div class="mb-3">
                                        <textarea class="form-control" id="newQuote" rows="3" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç —Ü–∏—Ç–∞—Ç—ã"></textarea>
                                    </div>

                                    <!-- –ù–∏–∂–Ω–∏–π –±–ª–æ–∫ —Å –∏–Ω–ø—É—Ç–∞–º–∏ –∏ –∫–Ω–æ–ø–∫–æ–π –¥–æ–±–∞–≤–∏—Ç—å -->
                                    <div class="d-flex align-items-center gap-2 flex-wrap">
                                        <input type="text" id="quotePage" name="quotePage" class="form-control mb-2 mb-md-0" placeholder="–°—Ç—Ä–∞–Ω–∏—Ü–∞" style="flex: 0 0 100px;">

                                        <button class="btn btn-outline-primary" id="addQuoteBtn">
                                            ‚ûï –î–æ–±–∞–≤–∏—Ç—å
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<script src="/old/js/request.js"></script>
<script src="/old/js/agile.js"></script>
<script src="/old/js/shelves.js"></script>
<script src="/old/jsx.js"></script>
<script src="/old/js/book.js"></script>
<script src="/old/js/autocomplete.js"></script>

</body>
</html>